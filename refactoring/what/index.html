<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="MarkBind 2.9.0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SEforSDL - Refactoring: What</title>
  <link rel="stylesheet" href="../../markbind/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../markbind/css/bootstrap-vue.min.css">
  <link rel="stylesheet" href="../../markbind/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
  <link rel="stylesheet" href="../../markbind/css/github.min.css">
  <link rel="stylesheet" href="../../markbind/css/markbind.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
  <link rel="stylesheet" href="../../markbind/layouts/default/styles.css">



  <link rel="icon" href="/se-book/favicon.ico">
</head>

<body>
  <div id="app">
    <header>
      <navbar placement="top" type="primary" class="temp-navbar">
        <a slot="brand" href="/" title="Home" class="navbar-brand">Software Engineering for Self-Directed Learners</a>
        <li slot="right">
          <searchbar placeholder="Search" algolia="" menu-align-right=""></searchbar>
        </li>
      </navbar>
    </header>
    <div id="flex-body">
      <div id="content-wrapper">
        <div>
          <link rel="stylesheet" href="/se-book/css/textbook.css">
          <div class="website-content">
            <p><span class="badge badge-light"><span><span class="dimmed"><span><span><span aria-hidden="true" class="fas fa-trophy"></span></span> Can explain refactoring</span>
              </span>
              </span>
              </span>
            </p>
            <p></p>
            <p></p>
            <div>
              <div></div>
              <p></p>
              <p><span class="dimmed"><strong><span>Implementation → Refactoring →
</span></strong>
                </span>
              </p>
              <div id="title-and-body">
                <div>
                  <h4 id="what"><span>What</span><a class="fa fa-anchor" href="#what"></a></h4>
                </div>
                <div id="main">
                  <div>
                    <p>The first version of the code you write may not be of production quality. It is OK to first concentrate on making the code work, rather than worry over the quality of the code, as long as you improve the quality later. This process
                      of <strong>improving a program's internal structure in small steps without modifying its external behavior is called <em>refactoring</em>.</strong></p>
                    <ul>
                      <li><strong>Refactoring is not rewriting</strong>: Discarding poorly-written code entirely and re-writing it from scratch is not refactoring because refactoring needs to be done in small steps.</li>
                      <li><strong>Refactoring is not bug fixing</strong>: By definition, refactoring is different from bug fixing or any other modifications that alter the external behavior (e.g. adding a feature) of the component in concern.</li>
                    </ul>
                    <box>
                      <p><span class="badge badge-pill badge-warning"><span aria-hidden="true" class="fas fa-lightbulb"></span></span> Improving code structure can have many secondary benefits: e.g.</p>
                      <ul>
                        <li>hidden bugs become easier to spot</li>
                        <li>improve performance (sometimes, simpler code runs faster than complex code because simpler code is easier for the compiler to optimize).</li>
                      </ul>
                    </box>
                    <p>Given below are two common refactorings (
                      <trigger trigger="click" for="modal:refactoring-catalog-what">more</trigger>).</p>
                    <modal title="**Refactoring Catalogs**" id="modal:refactoring-catalog-what" class="algolia-no-index">
                      <div>
                        <ul>
                          <li>Java: <a href="http://refactoring.com/catalog/">http://refactoring.com/catalog/</a> - This is a list of common refactorings, maintained by Martin Fowler, a leading authority on refactoring. He is also the author of the ‘bestseller’
                            on refactoring: <a href="https://martinfowler.com/books/#refactoring">Refactoring: Improving the Design of Existing Code</a></li>
                          <li>Python: <a href="https://refactoring.guru/refactoring/catalog">https://refactoring.guru/refactoring/catalog</a> -- A catalog of refactorings applicable to Python code.</li>
                        </ul>
                      </div>
                    </modal>
                    <box>
                      <p>Refactoring Name: <strong>Consolidate Duplicate Conditional Fragments</strong></p>
                      <p>Situation: The same fragment of code is in all branches of a conditional expression.</p>
                      <p>Method: Move it outside of the expression.</p>
                      <p><span><span aria-hidden="true" class="fas fa-cube"></span></span> Example:</p>
                      <div class="alt-java">
                        <div>
                          <table>
                            <tr>
                              <td valign="top">
                                <pre><code class="line-numbers hljs java"><span><span class="hljs-keyword">if</span> (isSpecialDeal()) {</span><span>    total = price * <span class="hljs-number">0.95</span>;</span><span>    send();</span><span>} <span class="hljs-keyword">else</span> {</span><span>    total = price * <span class="hljs-number">0.98</span>;</span><span>    send();</span><span>}</span></code></pre>
                              </td>
                              <td valign="center">&nbsp;→&nbsp;</td>
                              <td valign="top">
                                <pre><code class="line-numbers hljs java"><span><span class="hljs-keyword">if</span> (isSpecialDeal()){</span><span>    total = price * <span class="hljs-number">0.95</span>;</span><span>} <span class="hljs-keyword">else</span> {</span><span>    total = price * <span class="hljs-number">0.98</span>;</span><span>}</span><span>send();</span><span></span></code></pre>
                              </td>
                            </tr>
                          </table>
                        </div>
                      </div>
                      <div class="alt-python">
                        <div>
                          <table>
                            <tr>
                              <td valign="top">
                                <pre><code class="line-numbers hljs python"><span><span class="hljs-keyword">if</span> is_special_deal:</span><span>    total = price * <span class="hljs-number">0.95</span></span><span>    send()</span><span><span class="hljs-keyword">else</span>:</span><span>    total = price * <span class="hljs-number">0.98</span></span><span>    send()</span></code></pre>
                              </td>
                              <td valign="center">&nbsp;→&nbsp;</td>
                              <td valign="top">
                                <pre><code class="line-numbers hljs python"><span><span class="hljs-keyword">if</span> is_special_deal:</span><span>    total = price * <span class="hljs-number">0.95</span></span><span><span class="hljs-keyword">else</span>:</span><span>    total = price * <span class="hljs-number">0.98</span></span><span>    </span><span>send()</span></code></pre>
                              </td>
                            </tr>
                          </table>
                        </div>
                      </div>
                    </box>
                    <box>
                      <p>Refactoring Name: <strong>Extract Method</strong></p>
                      <p>Situation: You have a code fragment that can be grouped together.</p>
                      <p>Method: Turn the fragment into a method whose name explains the purpose of the method.</p>
                      <p><span><span aria-hidden="true" class="fas fa-cube"></span></span> Example:</p>
                      <div class="alt-java">
                        <div>
                          <pre><code class="line-numbers hljs java"><span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printOwing</span><span class="hljs-params">()</span> </span>{</span><span>    printBanner();</span><span></span><span>    <span class="hljs-comment">//print details</span></span><span>    System.out.println(<span class="hljs-string">"name:	"</span> + name);</span><span>    System.out.println(<span class="hljs-string">"amount	"</span> + getOutstanding());</span><span>}</span></code></pre>
                          <p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span>
                          </p>
                          <pre><code class="line-numbers hljs java"><span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printOwing</span><span class="hljs-params">()</span> </span>{</span><span>    printBanner();</span><span>    printDetails(getOutstanding());</span><span>}</span><span></span><span><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printDetails</span> <span class="hljs-params">(<span class="hljs-keyword">double</span> outstanding)</span> </span>{</span><span>    System.out.println(<span class="hljs-string">"name:	"</span> + name);</span><span>    System.out.println(<span class="hljs-string">"amount	"</span> + outstanding);</span><span>}</span></code></pre>
                        </div>
                      </div>
                      <div class="alt-python">
                        <div>
                          <pre><code class="line-numbers hljs python"><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_owing</span><span class="hljs-params">()</span>:</span></span><span>    print_banner()</span><span></span><span>    //<span class="hljs-keyword">print</span> details</span><span>    print(<span class="hljs-string">"name:	"</span> + name)</span><span>    print(<span class="hljs-string">"amount	"</span> + get_outstanding())</span></code></pre>
                          <p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span>
                          </p>
                          <pre><code class="line-numbers hljs python"><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_owing</span><span class="hljs-params">()</span>:</span></span><span>    print_banner()</span><span>    print_details(get_outstanding())</span><span></span><span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_details</span><span class="hljs-params">(amount)</span>:</span></span><span>    print(<span class="hljs-string">"name:	"</span> + name)</span><span>    print(<span class="hljs-string">"amount	"</span> + amount)</span></code></pre>
                        </div>
                      </div>
                    </box>
                    <p><span class="badge badge-pill badge-warning"><span aria-hidden="true" class="fas fa-lightbulb"></span></span> Some IDEs have built in support for basic refactorings such as automatically renaming a variable/method/class in all places
                      it has been used.</p>
                    <p>
                      <font color="red"><big><span aria-hidden="true" class="glyphicon glyphicon-exclamation-sign"></span></big></font> Refactoring, even if done with the aid of an IDE, may still result in regressions. Therefore, each small refactoring should be followed
                      by regression testing.</p>
                  </div>
                  <div>
                    <div>
                      <panel header="<md>:fas-dumbbell:</md> Exercises" expandable="" class="algolia-no-index">
                        <div>
                          <panel header="<md>:glyphicon-question-sign:</md>:glyphicon-ok-sign: Results of Refactoring" class="algolia-no-index">
                            <question>
                              <p>Choose the correct statements</p>
                              <ul class="task-list">
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> a. Refactoring can improve understandability</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> b. Refactoring can uncover bugs</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> c. Refactoring can result in better performance</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> d. Refactoring can change the number of methods/classes</li>
                              </ul>
                              <div slot="answer" class="algolia-no-index">
                                <p>a, b, c, d</p>
                                <p>Explanation:</p>
                                <ul>
                                  <li>(a, b, c) Although the primary aim of refactoring is to improve internal code structure, there are other secondary benefits.</li>
                                  <li>(d) Some refactorings result in adding/removing methods/classes.</li>
                                </ul>
                              </div>
                            </question>
                          </panel>
                        </div>
                        <div>
                          <panel header="<md>:glyphicon-question-sign:</md>:glyphicon-ok-sign: Do you agree with the following statement? Refactoring and regression testing" class="algolia-no-index">
                            <question has-input="true">
                              <p>Do you agree with the following statement? Justify your answer.</p>
                              <p>Statement: <code>Whenever we refactor code to fix bugs, we need not do regression testing if the bug fix was minor.</code></p>
                              <div slot="hint" class="algolia-no-index">
                                <p>There are two flaws in the given statement.</p>
                              </div>
                              <div slot="answer" class="algolia-no-index">
                                <p>DISAGREE.</p>
                                <ol>
                                  <li>Even a minor change can have major repercussions on the system. We MUST do regression testing after each change, no matter how minor it is.</li>
                                  <li>Fixing bugs is technically not refactoring.</li>
                                </ol>
                              </div>
                            </question>
                          </panel>
                        </div>
                        <div>
                          <panel header="<md>:glyphicon-question-sign:</md> Explain Refactoring" class="algolia-no-index">
                            <question has-input="">
                              <p>Explain what is refactoring and why it is not the same as rewriting, bug fixing, or adding features.</p>
                            </question>
                          </panel>
                        </div>
                      </panel>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="text-center">
        <small>This site was built with <a href="https://markbind.org/">MarkBind 2.9.0</a> at Mon, 20 Jan 2020 14:41:13 GMT.</small></div>
    </footer>
  </div>
</body>
<script src="../../markbind/js/vue.min.js"></script>
<script src="../../markbind/js/vue-strap.min.js"></script>
<script src="../../markbind/js/bootstrap-utility.min.js"></script>
<script src="../../markbind/js/polyfill.min.js"></script>
<script src="../../markbind/js/bootstrap-vue.min.js"></script>
<script>
  const baseUrl = '/se-book'
  const enableSearch = true
</script>
<script src="../../markbind/js/setup.js"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  function initAlgolia() {
    docsearch({
      apiKey: "8310bb56d1ece8950bd20b0b8c080e10",
      indexName: "se-edu",
      inputSelector: "#algolia-search-input",
      algoliaOptions: {},
      debug: false,
    });
  }
  MarkBind.afterSetup(initAlgolia);
</script>
<script src="../../markbind/layouts/default/scripts.js"></script>

</html>